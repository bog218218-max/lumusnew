<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LUMOS | Архитектура и дизайн премиум-класса</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React & Babel for Single File Execution -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'lumos-bg': '#1c1d20',
              'lumos-card': '#252629',
              'lumos-text': '#ffffff',
              'lumos-text-sec': '#9e9e9e',
              'lumos-border': '#3a3a3a',
              'lumos-btn-hover': '#585858',
            },
            fontFamily: {
              sans: ['Manrope', 'sans-serif'],
            },
            keyframes: {
              'slide-up': {
                '0%': { transform: 'translateY(100%)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              },
              'fade-in': {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              'fade-in-up': {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              'blink': {
                '0%, 100%': { opacity: '1' },
                '50%': { opacity: '0' },
              }
            },
            animation: {
              'slide-up': 'slide-up 0.5s ease-out forwards',
              'fade-in': 'fade-in 0.3s ease-out forwards',
              'fade-in-up': 'fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
              'blink': 'blink 1s step-end infinite',
            }
          }
        }
      }
    </script>

    <style>
      /* Base Styles */
      body {
        background-color: #1c1d20;
        color: #ffffff;
        font-family: 'Manrope', sans-serif;
        overflow-x: hidden;
      }

      /* Utility classes */
      .no-scroll {
        overflow: hidden;
      }

      /* Custom Scrollbar for Modals */
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.4);
      }

      /* Hover underline animation for links */
      .hover-underline {
        position: relative;
        display: inline-block;
      }
      .hover-underline::after {
        content: '';
        position: absolute;
        width: 100%;
        transform: scaleX(0);
        height: 1px;
        bottom: 0;
        left: 0;
        background-color: currentColor;
        transform-origin: bottom right;
        transition: transform 0.25s ease-out;
      }
      .hover-underline:hover::after {
        transform: scaleX(1);
        transform-origin: bottom left;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <!-- MAIN APP SCRIPT -->
    <script type="text/babel" data-presets="typescript,react">
      const { useState, useEffect, useRef } = React;

      // --- ICONS ---
      const IconInterior = () => (
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" className="mb-6 text-white">
          <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" />
          <path d="M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14" />
          <path d="M9 9H9.01" />
          <path d="M15 9H15.01" />
        </svg>
      ); 

      const IconPalette = () => (
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" className="mb-6 text-white">
              <path d="M12 21.5C7.30558 21.5 3.5 17.6944 3.5 13C3.5 8.30558 7.30558 4.5 12 4.5C16.6944 4.5 20.5 8.30558 20.5 13C20.5 14.8876 19.8845 16.6323 18.8462 18.0191C18.6148 18.3283 18.1732 18.3971 17.8541 18.1718C17.5349 17.9465 17.4619 17.51 17.6836 17.1895C18.5135 15.9898 19 14.5458 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20C12.5523 20 13 20.4477 13 21C13 21.5523 12.5523 22 12 22V21.5Z" />
              <circle cx="9" cy="11" r="1.5" />
              <circle cx="15" cy="11" r="1.5" />
              <circle cx="12" cy="15" r="1.5" />
              <circle cx="12" cy="7.5" r="1.5" />
          </svg>
      );

      const IconHouse = () => (
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" className="mb-6 text-white">
          <path d="M3 9.5L12 2.5L21 9.5V20.5C21 21.0523 20.5523 21.5 20 21.5H4C3.44772 21.5 3 21.0523 3 20.5V9.5Z" />
          <path d="M9 21.5V12.5H15V21.5" />
        </svg>
      );

      const IconEye = () => (
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" className="mb-6 text-white">
          <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" />
          <circle cx="12" cy="12" r="3" />
        </svg>
      );

      // --- COMPONENTS ---

      // 1. Animated Counter Component
      const Counter = ({ end, duration = 2000, suffix = '', prefix = '' }) => {
        const [count, setCount] = useState(0);
        const countRef = useRef(null);
        const [hasAnimated, setHasAnimated] = useState(false);

        useEffect(() => {
          const observer = new IntersectionObserver(
            (entries) => {
              if (entries[0].isIntersecting && !hasAnimated) {
                setHasAnimated(true);
                let start = 0;
                // Adjust increment for larger numbers like 2022 to animate smoothly
                const increment = end / (duration / 16); 
                
                const timer = setInterval(() => {
                  start += increment;
                  if (start >= end) {
                    setCount(end);
                    clearInterval(timer);
                  } else {
                    setCount(Math.ceil(start));
                  }
                }, 16);
              }
            },
            { threshold: 0.5 }
          );

          if (countRef.current) {
            observer.observe(countRef.current);
          }

          return () => {
            if (countRef.current) observer.unobserve(countRef.current);
          };
        }, [end, duration, hasAnimated]);

        return (
          <div ref={countRef} className="text-[clamp(40px,5vw,60px)] font-semibold leading-none mb-2 text-lumos-text">
            {prefix}{count}{suffix}
          </div>
        );
      };

      // 2. Typewriter Component
      const Typewriter = () => {
        const phrases = [
          "...в котором хочется жить",
          "...где рождаются идеи",
          "...отражающее ваш характер"
        ];
        const [text, setText] = useState('');
        const [isDeleting, setIsDeleting] = useState(false);
        const [loopNum, setLoopNum] = useState(0);
        const [typingSpeed, setTypingSpeed] = useState(100);

        useEffect(() => {
          const i = loopNum % phrases.length;
          const fullText = phrases[i];

          const handleTyping = () => {
            setText(isDeleting 
              ? fullText.substring(0, text.length - 1) 
              : fullText.substring(0, text.length + 1)
            );

            // Speed adjustments
            setTypingSpeed(isDeleting ? 40 : 100);

            if (!isDeleting && text === fullText) {
              // Finished typing phrase, pause before deleting
              setTimeout(() => setIsDeleting(true), 2500);
            } else if (isDeleting && text === '') {
              // Finished deleting, move to next phrase
              setIsDeleting(false);
              setLoopNum(loopNum + 1);
            }
          };

          const timer = setTimeout(handleTyping, typingSpeed);
          return () => clearTimeout(timer);
        }, [text, isDeleting, loopNum, typingSpeed]);

        return (
          <span>
            {text}
            <span className="animate-blink ml-1 opacity-70">|</span>
          </span>
        );
      };

      // 3. Project Modal Component
      const ProjectModal = ({ project, isOpen, onClose }) => {
        useEffect(() => {
          if (isOpen) {
            document.body.classList.add('no-scroll');
          } else {
            document.body.classList.remove('no-scroll');
          }
          return () => document.body.classList.remove('no-scroll');
        }, [isOpen]);

        if (!isOpen || !project) return null;

        return (
          <div className="fixed inset-0 z-[2000] flex items-center justify-center p-4 sm:p-6">
            <div 
              className="absolute inset-0 bg-black/90 backdrop-blur-md transition-opacity animate-fade-in" 
              onClick={onClose}
            />
            
            <div className="relative w-full max-w-5xl max-h-[90vh] bg-lumos-card border border-lumos-border rounded-[32px] overflow-hidden flex flex-col shadow-2xl animate-fade-in-up">
              
              {/* Header */}
              <div className="p-6 sm:p-8 border-b border-lumos-border flex justify-between items-start bg-lumos-card z-10">
                <div>
                  <h2 className="text-3xl sm:text-4xl font-medium text-white mb-2">{project.title}</h2>
                  <p className="text-lumos-text-sec text-lg">{project.area}</p>
                </div>
                <button 
                  onClick={onClose}
                  className="w-10 h-10 rounded-full border border-white/20 hover:bg-white hover:text-black flex items-center justify-center transition-all"
                >
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M18 6L6 18M6 6l12 12" />
                  </svg>
                </button>
              </div>

              {/* Scrollable Content */}
              <div className="overflow-y-auto p-6 sm:p-8 custom-scrollbar">
                
                {/* Main Description */}
                <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                  <div className="md:col-span-2">
                    <div className="text-lumos-text-sec text-lg leading-relaxed space-y-4">
                      {project.fullDescription.split('\n\n').map((para, i) => (
                        <p key={i}>{para}</p>
                      ))}
                    </div>
                  </div>
                  <div className="bg-lumos-bg p-6 rounded-2xl border border-lumos-border h-fit">
                    <h4 className="text-white font-medium mb-4 uppercase tracking-wider text-sm">Детали проекта</h4>
                    <ul className="space-y-3 text-lumos-text-sec">
                      <li className="flex justify-between">
                        <span>Площадь:</span>
                        <span className="text-white">{project.specs?.area || project.area}</span>
                      </li>
                      <li className="flex justify-between">
                        <span>Локация:</span>
                        <span className="text-white">{project.specs?.location || "По запросу"}</span>
                      </li>
                      <li className="flex justify-between">
                        <span>Год:</span>
                        <span className="text-white">{project.specs?.year || "2023"}</span>
                      </li>
                    </ul>
                  </div>
                </div>

                {/* Gallery */}
                <h3 className="text-2xl font-medium mb-6 text-white">Галерея</h3>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  {project.gallery.map((img, index) => (
                    <div key={index} className={`relative rounded-2xl overflow-hidden ${index === 0 ? 'sm:col-span-2 aspect-video' : 'aspect-[4/3]'}`}>
                      <img 
                        src={img} 
                        alt={`Project detail ${index + 1}`}
                        className="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
                      />
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        );
      };

      // 4. Service Modal Component
      const ServiceModal = ({ service, isOpen, onClose }) => {
        useEffect(() => {
          if (isOpen) {
            document.body.classList.add('no-scroll');
          } else {
            document.body.classList.remove('no-scroll');
          }
          return () => document.body.classList.remove('no-scroll');
        }, [isOpen]);

        if (!isOpen || !service) return null;

        const handleCtaClick = () => {
          onClose();
          setTimeout(() => {
            const contactSection = document.getElementById('contact');
            if (contactSection) {
              contactSection.scrollIntoView({ behavior: 'smooth' });
            }
          }, 100);
        };

        return (
          <div className="fixed inset-0 z-[2000] flex items-end justify-center sm:items-center p-0 sm:p-4">
            {/* Backdrop with Blur */}
            <div 
              className="absolute inset-0 bg-[#111111]/95 backdrop-blur-[10px] animate-fade-in" 
              onClick={onClose}
            />
            
            {/* Modal Content */}
            <div className="relative w-full max-w-2xl bg-[#111111] border border-lumos-border rounded-t-[32px] sm:rounded-[32px] p-8 sm:p-12 shadow-2xl animate-slide-up text-white overflow-hidden flex flex-col max-h-[90vh]">
              
              <button 
                onClick={onClose}
                className="absolute top-6 right-6 w-10 h-10 flex items-center justify-center text-lumos-text-sec hover:text-white transition-colors text-4xl font-light leading-none z-10"
              >
                &times;
              </button>

              <div className="overflow-y-auto custom-scrollbar pr-2">
                <h2 className="text-3xl sm:text-4xl font-medium mb-6 pr-10">{service.modalContent.title}</h2>
                
                <p className="text-lumos-text-sec text-lg mb-10 leading-relaxed font-light">
                  {service.modalContent.description}
                </p>

                <div className="mb-10">
                  <h4 className="text-white text-xs uppercase tracking-[0.2em] mb-6 opacity-70">Что входит в услугу</h4>
                  <ul className="space-y-4">
                    {service.modalContent.list.map((item, idx) => (
                      <li key={idx} className="flex items-start gap-4 text-lumos-text-sec">
                        <span className="mt-2.5 w-1.5 h-1.5 rounded-full bg-white shrink-0" />
                        <span className="font-light text-base sm:text-lg">{item}</span>
                      </li>
                    ))}
                  </ul>
                </div>

                <button 
                  onClick={handleCtaClick}
                  className="w-full py-5 border border-white rounded-xl text-lg font-medium hover:bg-white hover:text-black transition-all duration-300"
                >
                  Заказать услугу
                </button>
              </div>
            </div>
          </div>
        );
      };

      // --- DATA ---

      const SERVICES = [
        {
          id: 's1',
          title: "Дизайн интерьера",
          shortDescription: "Полный цикл разработки дизайн-проекта: от планировочного решения до подбора декора.",
          icon: <IconPalette />,
          modalContent: {
            title: "Создание интерьера для жизни",
            description: "Мы не просто рисуем красивые картинки, а проектируем сценарии вашей жизни. Интерьер станет продолжением вашего характера: эргономичным, статусным и тактильно приятным.",
            list: [
              "Разработка 3-4 вариантов планировочного решения под ваш образ жизни",
              "Фотореалистичная 3D-визуализация каждого помещения",
              "Полный пакет рабочих чертежей для строителей (электрика, сантехника, развертки стен)",
              "Ведомость комплектации: список всей мебели, света и материалов с артикулами и ценами"
            ]
          }
        },
        {
          id: 's2',
          title: "Архитектурное проектирование",
          shortDescription: "Проектирование частных домов и резиденций с учетом ландшафта и инсоляции.",
          icon: <IconHouse />,
          modalContent: {
            title: "Частная архитектура и резиденции",
            description: "Дом, который станет вашим родовым гнездом. Мы создаем архитектуру вне времени, грамотно вписывая здание в ландшафт и учитывая движение солнца на участке.",
            list: [
              "Эскизный проект (ЭП): посадка дома на участок и фасадные решения",
              "Архитектурные решения (АР): детальная проработка внешнего вида и планов",
              "Конструктивные решения (КР): расчет фундамента, перекрытий и кровли",
              "Проектирование инженерных сетей (отопление, вентиляция, вода)"
            ]
          }
        },
        {
          id: 's3',
          title: "Авторский надзор",
          shortDescription: "Контроль за реализацией проекта. Следим, чтобы строители следовали чертежам.",
          icon: <IconEye />,
          modalContent: {
            title: "Полное сопровождение реализации",
            description: "Ваше спокойствие во время ремонта. Мы берем на себя общение со строителями и контроль качества, чтобы реальность на 100% совпала с проектом.",
            list: [
              "Регулярные выезды архитектора на объект (до 4 раз в месяц)",
              "Контроль соответствия строительных работ утвержденным чертежам",
              "Оперативное внесение правок в проект при необходимости",
              "Помощь в закупке материалов и проверка их качества при доставке",
              "Консультации прораба и строительной бригады по сложным узлам"
            ]
          }
        }
      ];

      // UPDATED STATS DATA
      const STATS = [
        { id: 1, value: 2022, label: "Год основания бюро" },
        { id: 2, value: 10, label: "Реализованных проектов" },
        { id: 3, value: 3, label: "Города присутствия" },
        { id: 4, value: 100, suffix: "%", label: "Соблюдение сроков" },
      ];

      const PROJECTS = [
        {
          id: 'p1',
          title: "Villa Monochrome",
          area: "450 м²",
          mainImage: "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=1200&auto=format&fit=crop",
          gallery: [
            "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600607687644-c7171b42498f?q=80&w=1200&auto=format&fit=crop"
          ],
          fullDescription: "Концепция Villa Monochrome строится на игре света и тени. Мы использовали ограниченную палитру материалов — бетон, черное дерево и стекло, чтобы создать пространство, которое не отвлекает от окружающей природы, а служит её обрамлением.\n\nКаждый угол спроектирован так, чтобы ловить естественный свет в течение дня, создавая динамичную атмосферу, меняющуюся вместе с солнцем.",
          specs: { area: "450 м²", location: "Подмосковье", year: "2023" }
        },
        {
          id: 'p2',
          title: "City Penthouse",
          area: "200 м²",
          mainImage: "https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=1200&auto=format&fit=crop",
          gallery: [
            "https://images.unsplash.com/photo-1618221381711-42ca8ab6e903?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1618219908412-a29a1bb7b86e?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1618219944342-824e40a13285?q=80&w=1200&auto=format&fit=crop"
          ],
          fullDescription: "Урбанистический оазис с панорамным видом на город. Основной задачей было сохранить ощущение воздуха и простора, несмотря на плотную городскую застройку за окном.\n\nИнтегрированная система 'Умный дом', скрытые системы хранения и премиальный текстиль создают идеальный баланс между технологичностью и уютом.",
          specs: { area: "200 м²", location: "Москва, Сити", year: "2022" }
        },
        {
          id: 'p3',
          title: "Nordic Silence",
          area: "320 м²",
          mainImage: "https://images.unsplash.com/photo-1449844908441-8829872d2607?q=80&w=1200&auto=format&fit=crop",
          gallery: [
            "https://images.unsplash.com/photo-1542718610-a1d656d1884c?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1510627489930-0c1b0dc58e85?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1471039497385-b6d6ba609f9c?q=80&w=1200&auto=format&fit=crop"
          ],
          fullDescription: "Этот проект вдохновлен суровой красотой северной природы. Натуральное дерево, камень грубой обработки и большие панорамные окна стирают границу между интерьером и заснеженным лесом.\n\nМинимализм здесь не означает пустоту, он означает чистоту восприятия и тишину, необходимую для отдыха от информационного шума.",
          specs: { area: "320 м²", location: "Карелия", year: "2023" }
        },
        {
          id: 'p4',
          title: "Glass House",
          area: "280 м²",
          mainImage: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=1200&auto=format&fit=crop",
          gallery: [
            "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1512915922686-57c11dde9b6b?q=80&w=1200&auto=format&fit=crop"
          ],
          fullDescription: "Прозрачность как философия жизни. Дом, который полностью открыт миру, но при этом дарит чувство защищенности. Конструкция из закаленного стекла и стали парит над ландшафтом.\n\nИнтерьер продолжает экстерьер: минимум перегородок, максимум воздуха и света. Приватные зоны деликатно скрыты с помощью архитектурных объемов внутри общего пространства.",
          specs: { area: "280 м²", location: "Сочи", year: "2023" }
        },
        {
          id: 'p5',
          title: "Urban Loft",
          area: "150 м²",
          mainImage: "https://images.unsplash.com/photo-1515263487990-61b07816b324?q=80&w=1200&auto=format&fit=crop",
          gallery: [
            "https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1534349762230-e0cadf78f5da?q=80&w=1200&auto=format&fit=crop"
          ],
          fullDescription: "Реконструкция исторического промышленного здания. Мы сохранили оригинальную кирпичную кладку и высокие потолки, добавив современные элементы из металла и бетона.\n\nЭто пространство для творческих людей, где каждый предмет мебели — это арт-объект. Открытая планировка позволяет трансформировать пространство под любые сценарии: от вечеринок до уединенных вечеров.",
          specs: { area: "150 м²", location: "Санкт-Петербург", year: "2022" }
        },
        {
          id: 'p6',
          title: "Stone Residence",
          area: "600 м²",
          mainImage: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?q=80&w=1200&auto=format&fit=crop",
          gallery: [
            "https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600573472550-8090b5e0745e?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600566752355-35792bedcfea?q=80&w=1200&auto=format&fit=crop"
          ],
          fullDescription: "Монументальность и вечность. Резиденция, словно высеченная из цельной скалы. Мы использовали травертин и мрамор, чтобы создать ощущение надежности и статуса.\n\nГеометрия форм строгая, но не агрессивная. Внутренние дворы-патио наполняют дом мягким светом и создают приватные зеленые зоны, скрытые от посторонних глаз.",
          specs: { area: "600 м²", location: "Крым", year: "2023" }
        }
      ];

      const REVIEWS = [
        {
          author: "Анна Вербер",
          role: "Частный клиент, ЖК \"Садовые Кварталы\"",
          text: "Команда LUMOS создала для нас настоящий оазис спокойствия в центре мегаполиса. Внимание к деталям, выбор материалов и световые сценарии — все на высшем уровне.",
          avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop"
        },
        {
          author: "Сергей Корнилов",
          role: "CEO IT-компании",
          text: "Работать с бюро было легко и продуктивно. Мы заказывали проект загородной резиденции. Понравилось, что нас слышали, но при этом аргументированно отстаивали решения.",
          avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200&auto=format&fit=crop"
        },
        {
          author: "Елена Миронова",
          role: "Владелец сети бутиков",
          text: "Эстетика минимализма в исполнении LUMOS — это любовь с первого взгляда. Интерьер получился не просто красивым, но и невероятно функциональным. Спасибо за профессионализм.",
          avatar: "https://images.unsplash.com/photo-1554151228-14d9def656ec?q=80&w=200&auto=format&fit=crop"
        }
      ];

      // --- MAIN APP COMPONENT ---

      const App = () => {
              // --- ВСТАВИТЬ СЮДА (СТРОКА ~588) ---
      const [formStatus, setFormStatus] = useState('idle'); // 'idle', 'loading', 'success'
      const [formData, setFormData] = useState({ name: '', phone: '', details: '' });

      const handleInputChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
      };

      const handleSubmit = async (e) => {
        e.preventDefault();
        setFormStatus('loading');

        try {
            const response = await fetch('/.netlify/functions/submit-form', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify(formData),
});


          if (response.ok) {
            setFormStatus('success');
            setFormData({ name: '', phone: '', details: '' }); // Очистить поля
          } else {
            alert('Ошибка отправки. Попробуйте позже.');
            setFormStatus('idle');
          }
        } catch (error) {
          console.error('Error:', error);
          alert('Ошибка соединения с сервером.');
          setFormStatus('idle');
        }
      };
      // --- КОНЕЦ ВСТАВКИ 1 ---

        const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
        const [selectedProject, setSelectedProject] = useState(null);
        const [selectedService, setSelectedService] = useState(null);
        const [visibleProjectsCount, setVisibleProjectsCount] = useState(2);
        
        // Refs for Hero Parallax
        const heroRef = useRef(null);
        const heroBgRef = useRef(null);

        const toggleMenu = () => setMobileMenuOpen(!mobileMenuOpen);
        const closeMenu = () => setMobileMenuOpen(false);

        const handleViewAllProjects = () => {
            setVisibleProjectsCount(PROJECTS.length);
        };

        // Hero Mouse Parallax Logic
        const handleHeroMouseMove = (e) => {
          if (!heroBgRef.current) return;
          const { clientX, clientY } = e;
          // Calculate movement (subtle opposite direction)
          // Window dimensions
          const { innerWidth, innerHeight } = window;
          const x = (innerWidth / 2 - clientX) * 0.02; 
          const y = (innerHeight / 2 - clientY) * 0.02;
          
          // Apply transform with a slight scale to prevent edge bleeding
          heroBgRef.current.style.transform = `scale(1.1) translate(${x}px, ${y}px)`;
        };

        return (
          <div className="font-sans bg-lumos-bg text-lumos-text overflow-x-hidden min-h-screen flex flex-col">
            
            {/* HEADER */}
            <header className="fixed top-0 left-0 w-full z-50 bg-[#1c1d20]/95 backdrop-blur-md py-5 border-b border-white/5">
              <div className="container mx-auto px-5 flex items-center justify-between relative">
                
                {/* Mobile Menu Button */}
                <button onClick={toggleMenu} className="lg:hidden text-2xl z-[60]">
                  {mobileMenuOpen ? '✕' : '☰'}
                </button>

                {/* Logo (Centered Absolute) */}
                <div className="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-2xl font-bold tracking-[2px] uppercase z-[60]">
                  LUMOS
                </div>

                {/* Desktop Nav */}
                <nav className="hidden lg:flex w-full justify-between items-center">
                  <div className="flex gap-10">
                    <a href="#about" className="text-sm uppercase font-medium opacity-80 hover:opacity-100 hover:text-lumos-text-sec transition-colors hover-underline">О нас</a>
                    <a href="#projects" className="text-sm uppercase font-medium opacity-80 hover:opacity-100 hover:text-lumos-text-sec transition-colors hover-underline">Проекты</a>
                  </div>
                  <div className="flex gap-10">
                    <a href="#services" className="text-sm uppercase font-medium opacity-80 hover:opacity-100 hover:text-lumos-text-sec transition-colors hover-underline">Услуги</a>
                    <a href="#reviews" className="text-sm uppercase font-medium opacity-80 hover:opacity-100 hover:text-lumos-text-sec transition-colors hover-underline">Отзывы</a>
                    <a href="#contact" className="text-sm uppercase font-medium opacity-80 hover:opacity-100 hover:text-lumos-text-sec transition-colors hover-underline">Контакты</a>
                  </div>
                </nav>
              </div>

              {/* Mobile Nav Overlay */}
              <div className={`fixed inset-0 bg-lumos-bg z-40 flex flex-col items-center justify-center gap-8 transition-transform duration-300 lg:hidden ${mobileMenuOpen ? 'translate-x-0' : '-translate-x-full'}`}>
                <a href="#about" onClick={closeMenu} className="text-xl uppercase font-medium">О нас</a>
                <a href="#projects" onClick={closeMenu} className="text-xl uppercase font-medium">Проекты</a>
                <a href="#services" onClick={closeMenu} className="text-xl uppercase font-medium">Услуги</a>
                <a href="#reviews" onClick={closeMenu} className="text-xl uppercase font-medium">Отзывы</a>
                <a href="#contact" onClick={closeMenu} className="text-xl uppercase font-medium">Контакты</a>
              </div>
            </header>

            {/* HERO with Parallax & Typewriter */}
            <section 
              id="hero" 
              ref={heroRef}
              onMouseMove={handleHeroMouseMove}
              className="relative h-screen min-h-[600px] flex items-center pt-20 overflow-hidden"
            >
              <div 
                ref={heroBgRef}
                className="absolute inset-0 z-0 bg-[url('https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=2000&auto=format&fit=crop')] bg-cover bg-center transition-transform duration-100 ease-out"
                style={{ transform: 'scale(1.1)' }}
              >
                <div className="absolute inset-0 bg-gradient-to-b from-[#1c1d20]/70 to-[#1c1d20]/70"></div>
              </div>
              <div className="container mx-auto px-5 relative z-10 max-w-[800px] ml-0 lg:ml-auto lg:mr-auto xl:ml-[calc(50%-600px+20px)] animate-fade-in-up">
                <h1 className="text-[clamp(40px,5vw,82px)] font-medium leading-[1.1] mb-8 min-h-[2.2em]">
                  Создаем пространство,<br />
                  <Typewriter />
                </h1>
                <p className="text-xl text-lumos-text-sec font-light mb-10 max-w-[600px]">
                  Архитектура и дизайн интерьеров премиум-класса.<br />Индивидуальный подход к каждому метру вашего комфорта.
                </p>
                <a href="#projects" className="inline-block px-10 py-[18px] border border-white rounded-xl text-base font-medium hover:bg-lumos-btn-hover hover:border-lumos-btn-hover hover:text-white transition-all">
                  Посмотреть портфолио
                </a>
              </div>
            </section>

            {/* STATS (Updated Content) */}
            <section id="stats" className="py-[100px] border-b border-lumos-border">
              <div className="container mx-auto px-5">
                <div className="grid grid-cols-2 lg:grid-cols-4 gap-[30px] lg:gap-5">
                  {STATS.map(stat => (
                    <div key={stat.id} className="text-left">
                      <Counter end={stat.value} suffix={stat.suffix} prefix={stat.prefix} />
                      <div className="text-sm text-lumos-text-sec leading-snug">{stat.label}</div>
                    </div>
                  ))}
                </div>
              </div>
            </section>

            {/* PHILOSOPHY */}
            <section id="about" className="py-[100px]">
              <div className="container mx-auto px-5">
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-[60px] items-center">
                  <div>
                    <h2 className="text-[clamp(32px,4vw,50px)] font-medium mb-[30px] leading-[1.1]">Философия LUMOS</h2>
                    <p className="text-lg text-lumos-text-sec mb-5 leading-relaxed font-normal">
                      Мы верим, что архитектура — это не просто стены, а сценарий вашей жизни. Наш подход основан на глубоком понимании психологии пространства и эстетики минимализма.
                    </p>
                    <p className="text-lg text-lumos-text-sec mb-5 leading-relaxed font-normal">
                      Каждый проект для нас — это история, рассказанная языком форм, света и фактур. Мы не следуем трендам, мы создаем вневременные решения, которые остаются актуальными десятилетиями.
                    </p>
                  </div>
                  <div className="rounded-[32px] overflow-hidden">
                    <img 
                      src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1200&auto=format&fit=crop" 
                      alt="Интерьер премиум класса" 
                      className="w-full h-auto grayscale-[20%] hover:grayscale-0 transition-all duration-500"
                    />
                  </div>
                </div>
              </div>
            </section>

            {/* SERVICES */}
            <section id="services" className="py-[100px]">
              <div className="container mx-auto px-5">
                <h2 className="text-[clamp(32px,4vw,50px)] font-medium mb-[60px] leading-[1.1]">Наши услуги</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[30px]">
                  {SERVICES.map((service) => (
                    <div 
                      key={service.id} 
                      onClick={() => setSelectedService(service)}
                      className="group bg-transparent border border-lumos-border rounded-[32px] p-10 min-h-[350px] flex flex-col justify-between hover:border-white hover:-translate-y-[10px] transition-all duration-300 cursor-pointer"
                    >
                      <div>
                        {service.icon}
                        <h3 className="text-2xl font-medium mb-[15px]">{service.title}</h3>
                        <p className="text-sm text-lumos-text-sec">{service.shortDescription}</p>
                      </div>
                      <div className="flex justify-end mt-[30px]">
                        <div className="w-10 h-10 border border-white rounded-full flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all">
                          →
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </section>

            {/* PROJECTS with Staggered Animation */}
            <section id="projects" className="py-[100px]">
              <div className="container mx-auto px-5">
                <h2 className="text-[clamp(32px,4vw,50px)] font-medium mb-[40px] leading-[1.1]">Избранные проекты</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-[40px]">
                  {PROJECTS.slice(0, visibleProjectsCount).map((project, index) => (
                    <div 
                      key={project.id} 
                      className="relative rounded-[32px] overflow-hidden aspect-[4/3] group cursor-pointer animate-fade-in-up opacity-0"
                      // Staggered Delay: Index * 150ms
                      style={{ animationDelay: `${index * 150}ms`, animationFillMode: 'both' }}
                      onClick={() => setSelectedProject(project)}
                    >
                      <img 
                        src={project.mainImage} 
                        alt={project.title} 
                        className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                      />
                      <div className="absolute bottom-0 left-0 w-full p-[30px] bg-gradient-to-t from-black/80 to-transparent">
                        <h3 className="text-2xl font-medium mb-[10px]">{project.title}</h3>
                        <p className="text-base text-lumos-text-sec font-normal">{project.area}</p>
                      </div>
                    </div>
                  ))}
                </div>
                {visibleProjectsCount < PROJECTS.length && (
                    <div className="mt-10 text-center">
                    <button 
                        onClick={handleViewAllProjects}
                        className="btn inline-block px-10 py-[18px] border border-white rounded-xl text-base font-medium hover:bg-lumos-btn-hover transition-all"
                    >
                        Смотреть все проекты
                    </button>
                    </div>
                )}
              </div>
            </section>

            {/* CONTACT FORM */}
            <section id="contact" className="py-[100px]">
              <div className="container mx-auto px-5">
                <div className="bg-lumos-card rounded-[40px] p-[30px] lg:p-[60px] grid grid-cols-1 lg:grid-cols-2 gap-[60px] items-center">
                  <div>
                    <h2 className="text-[clamp(32px,4vw,50px)] font-medium mb-5">Обсудить проект</h2>
                    <p className="text-base text-lumos-text-sec mb-[30px] font-normal">
                      Оставьте заявку, и мы свяжемся с вами для обсуждения деталей вашего будущего проекта. Первая консультация бесплатна.
                    </p>
                    <div className="mt-10 space-y-4">
                      <div className="text-lg text-white">
                        <span className="block text-sm text-lumos-text-sec mb-1">Телефон:</span>
                        +7 (999) 123-45-67
                      </div>
                      <div className="text-lg text-white">
                        <span className="block text-sm text-lumos-text-sec mb-1">Email:</span>
                        hello@lumos-studio.com
                      </div>
                      <div className="text-lg text-white">
                        <span className="block text-sm text-lumos-text-sec mb-1">Адрес:</span>
                        Москва, Пресненская наб., 12
                      </div>
                    </div>
                  </div>

                                   
                                        {formStatus === 'success' ? (
                    <div className="h-full min-h-[400px] flex flex-col items-center justify-center text-center animate-fade-in p-8 border border-white/10 rounded-[32px] bg-[#252629]">
                      <div className="w-20 h-20 rounded-full bg-white text-black flex items-center justify-center text-4xl mb-6">
                        ✓
                      </div>
                      <h3 className="text-3xl font-medium text-white mb-4">Заявка принята!</h3>
                      <p className="text-lumos-text-sec text-lg mb-8 max-w-xs mx-auto">
                        Спасибо за доверие. Менеджер свяжется с вами в ближайшее время.
                      </p>
                      <button 
                        onClick={() => setFormStatus('idle')}
                        className="text-sm text-white/60 hover:text-white border-b border-white/30 hover:border-white pb-1 transition-all"
                      >
                        Отправить еще одну
                      </button>
                    </div>
                  ) : (
                    <form onSubmit={handleSubmit}>
                      <div className="mb-[25px]">
                        <label className="block mb-[10px] text-sm text-lumos-text-sec">Ваше имя</label>
                        <input 
                          type="text" 
                          name="name" 
                          value={formData.name}
                          onChange={handleInputChange}
                          className="w-full py-[15px] bg-transparent border-b border-lumos-border text-lg text-white outline-none focus:border-white transition-colors placeholder:text-lumos-text-sec/30" 
                          placeholder="Иван" 
                          required 
                        />
                      </div>
                      <div className="mb-[25px]">
                        <label className="block mb-[10px] text-sm text-lumos-text-sec">Телефон</label>
                        <input 
                          type="tel" 
                          name="phone" 
                          value={formData.phone}
                          onChange={handleInputChange}
                          className="w-full py-[15px] bg-transparent border-b border-lumos-border text-lg text-white outline-none focus:border-white transition-colors placeholder:text-lumos-text-sec/30" 
                          placeholder="+7 (999) 000-00-00" 
                          required 
                        />
                      </div>
                      <div className="mb-[25px]">
                        <label className="block mb-[10px] text-sm text-lumos-text-sec">Комментарий</label>
                        <input 
                          type="text" 
                          name="details" 
                          value={formData.details}
                          onChange={handleInputChange}
                          className="w-full py-[15px] bg-transparent border-b border-lumos-border text-lg text-white outline-none focus:border-white transition-colors placeholder:text-lumos-text-sec/30" 
                          placeholder="Кратко о задаче" 
                        />
                      </div>
                      <button 
                        type="submit" 
                        disabled={formStatus === 'loading'}
                        className="w-full py-[18px] px-10 border border-white rounded-xl text-base font-medium hover:bg-lumos-btn-hover transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                      >
                        {formStatus === 'loading' ? 'Отправка...' : 'Отправить заявку'}
                      </button>
                      <p className="mt-[15px] text-xs text-[#555]">Нажимая на кнопку, вы даете согласие на обработку персональных данных.</p>
                    </form>
                  )}
                  {/* --- КОНЕЦ ВСТАВКИ 2 --- */}


                </div>
              </div>
            </section>

            {/* REVIEWS */}
            <section id="reviews" className="py-[100px]">
              <div className="container mx-auto px-5">
                <h2 className="text-[clamp(32px,4vw,50px)] font-medium mb-[40px] leading-[1.1]">Отзывы наших клиентов</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[30px]">
                  {REVIEWS.map((review, i) => (
                    <div key={i} className="bg-lumos-card border border-lumos-border rounded-[32px] p-[30px] flex flex-col gap-5 hover:border-white hover:-translate-y-1 transition-all duration-300">
                      <div className="flex items-center gap-[15px]">
                        <img src={review.avatar} alt={review.author} className="w-[60px] h-[60px] rounded-full object-cover" />
                        <div>
                          <h4 className="text-lg font-semibold leading-[1.2] mb-1">{review.author}</h4>
                          <span className="text-xs text-lumos-text-sec block">{review.role}</span>
                        </div>
                      </div>
                      <p className="text-[15px] text-lumos-text-sec leading-[1.6] flex-grow">{review.text}</p>
                      <div className="text-white text-base tracking-[2px] opacity-80">★★★★★</div>
                    </div>
                  ))}
                </div>
              </div>
            </section>

            {/* FOOTER */}
            <footer className="pt-[80px] pb-[40px] border-t border-lumos-border bg-[#151618]">
              <div className="container mx-auto px-5">
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-16">
                  <div className="flex flex-col gap-4">
                    <div className="text-2xl font-bold tracking-[2px] uppercase">LUMOS</div>
                    <p className="text-lumos-text-sec text-sm leading-relaxed max-w-[250px]">
                      Создаем архитектуру будущего, сохраняя традиции комфорта и эстетики.
                    </p>
                  </div>

                  <div className="flex flex-col gap-6">
                    <h4 className="text-white font-medium uppercase tracking-wider text-sm">Контакты</h4>
                    <div className="flex flex-col gap-4">
                      <a href="tel:+79991234567" className="text-2xl text-white hover:text-gray-300 transition-colors font-light">
                        +7 (999) 123-45-67
                      </a>
                      <a href="mailto:hello@lumos-studio.com" className="text-lumos-text-sec hover:text-white transition-colors border-b border-transparent hover:border-white w-fit">
                        hello@lumos-studio.com
                      </a>
                      <p className="text-lumos-text-sec">
                        Москва,<br/>Пресненская наб., 12<br/>Башня Федерация
                      </p>
                    </div>
                  </div>

                  <div className="flex flex-col gap-6">
                    <h4 className="text-white font-medium uppercase tracking-wider text-sm">Навигация</h4>
                    <ul className="flex flex-col gap-3 text-lumos-text-sec">
                      <li><a href="#projects" className="hover:text-white transition-colors">Проекты</a></li>
                      <li><a href="#services" className="hover:text-white transition-colors">Услуги</a></li>
                      <li><a href="#about" className="hover:text-white transition-colors">О студии</a></li>
                      <li><a href="#contact" className="hover:text-white transition-colors">Обсудить проект</a></li>
                    </ul>
                  </div>

                  <div className="flex flex-col gap-6">
                    <h4 className="text-white font-medium uppercase tracking-wider text-sm">Соцсети</h4>
                    <div className="flex gap-4">
                      <a href="#" className="w-12 h-12 rounded-full bg-lumos-border flex items-center justify-center hover:bg-white hover:text-black transition-all">
                        TG
                      </a>
                      <a href="#" className="w-12 h-12 rounded-full bg-lumos-border flex items-center justify-center hover:bg-white hover:text-black transition-all">
                        WA
                      </a>
                      <a href="#" className="w-12 h-12 rounded-full bg-lumos-border flex items-center justify-center hover:bg-white hover:text-black transition-all">
                        VK
                      </a>
                    </div>
                  </div>
                </div>

                <div className="flex flex-wrap justify-between items-center pt-8 border-t border-white/5 text-sm text-lumos-text-sec">
                  <div>© 2023 LUMOS Architectural Studio. Все права защищены.</div>
                  <div className="flex gap-6 mt-4 md:mt-0">
                    <a href="#" className="hover:text-white transition-colors">Политика конфиденциальности</a>
                    <span className="opacity-50">Design by LUMOS</span>
                  </div>
                </div>
              </div>
            </footer>

            {/* MODALS */}
            <ProjectModal 
              project={selectedProject} 
              isOpen={!!selectedProject} 
              onClose={() => setSelectedProject(null)} 
            />
            
            <ServiceModal 
              service={selectedService}
              isOpen={!!selectedService}
              onClose={() => setSelectedService(null)}
            />

          </div>
        );
      }

      // --- MOUNT ---
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
</body>
</html>